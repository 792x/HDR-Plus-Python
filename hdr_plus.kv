#:kivy 1.1.0

Root:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Image:
                id: image0
                source: root.original
                size_hint_x: 1
                allow_stretch: False
                keep_data: True
            Image:
                id: image1
                source: root.image
                size_hint_x: 1
                allow_stretch: False
                keep_data: True
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 0.4
                Label:
                    text: 'Compression'
                BoxLayout:
                    orientation: 'horizontal'
                    Slider:
                        id: compression
                        value: 3.8
                        min: 1
                        max: 6.6
                        step: 0.1
                        orientation: 'horizontal'
                    Label:
                        size_hint_x: 0.3
                        text: str(compression.value)[:3]
                Label:
                    text: 'Gain'
                BoxLayout:
                    orientation: 'horizontal'
                    Slider:
                        id: gain
                        value: 1.1
                        min: 0.1
                        max: 2.1
                        step: 0.01
                        orientation: 'horizontal'
                    Label:
                        size_hint_x: 0.3
                        text: str(gain.value)[:4]
                Label:
                    text: 'Contrast'
                BoxLayout:
                    orientation: 'horizontal'
                    Slider:
                        id: contrast
                        value: 1.0
                        min: 0.5
                        max: 1.5
                        step: 0.01
                        orientation: 'horizontal'
                    Label:
                        size_hint_x: 0.3
                        text: str(contrast.value)[:4]
                Label:
                    id: state
                    text: ''
                    size_hint_y: 8
        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: 'Select burst'
                on_release: root.show_load()
            Button:
                text: 'Process'
                on_release: root.process()            

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Select"
                on_release: root.load(filechooser.path, filechooser.selection)